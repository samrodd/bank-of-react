{"ast":null,"code":"import _regeneratorRuntime from\"/Users/loughlinrodd/Documents/GitHub/bank-of-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/loughlinrodd/Documents/GitHub/bank-of-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/Users/loughlinrodd/Documents/GitHub/bank-of-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/loughlinrodd/Documents/GitHub/bank-of-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/loughlinrodd/Documents/GitHub/bank-of-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/loughlinrodd/Documents/GitHub/bank-of-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/loughlinrodd/Documents/GitHub/bank-of-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{BrowserRouter as Router,Switch,Route}from'react-router-dom';import Home from'./components/Home';import UserProfile from'./components/UserProfile';import Debits from'./components/Debits';import Credits from'./components/Credits';import LogIn from'./Login';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.addDebit=function(e){//send to debits view via props\ne.preventDefault();//log target values \nconsole.log(e.target[0].value);console.log(e.target[1].value);var debits=_this.state.debits;//get the credits from state\nvar current=new Date();//create current date with correct formatting from the date object above \nvar currentDate=\"\".concat(current.getFullYear(),\"-\").concat(current.getMonth()+1,\"-\").concat(current.getDate());//create variables from user inputs\nvar newDescInput=e.target[0].value;//this.state.newDescription;\nvar newAmountVal=e.target[1].value;//this.state.newAmount;\n//push new value to array\ndebits.push({'id':1,'description':newDescInput,'amount':newAmountVal,'date':currentDate});//update account balance\nvar newAccountBalance=_this.state.accountBalance-newAmountVal;//update state\n_this.setState({debits:debits,accountBalance:newAccountBalance});};_this.addCredit=function(e){//send to credits view via props\ne.preventDefault();//log target values \nconsole.log(e.target[0].value);console.log(e.target[1].value);//get the credits from state\nvar credits=_this.state.credits;//create date object\nvar current=new Date();//create current date with correct formatting from the date object above \nvar currentDate=\"\".concat(current.getFullYear(),\"-\").concat(current.getMonth()+1,\"-\").concat(current.getDate());//create variables from user inputs\nvar newDescInput=e.target[0].value;var newAmountVal=e.target[1].value;//push new value to array\ncredits.push({'id':1,'description':newDescInput,'amount':newAmountVal,'date':currentDate});//update account balance\nvar newAccountBalance=_this.state.accountBalance+parseFloat(newAmountVal,10);//update state\n_this.setState({credits:credits,accountBalance:newAccountBalance});};_this.mockLogIn=function(logInInfo){var newUser=_objectSpread({},_this.state.currentUser);newUser.userName=logInInfo.userName;_this.setState({currentUser:newUser});};_this.state={accountBalance:0,currentUser:{userName:'joe_shmo',memberSince:'07/23/96'},newDescription:'',newAmount:'',debits:[],credits:[]};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var debits,credits,debitSum,creditSum,accountBalance;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://moj-api.herokuapp.com/debits\");case 2:debits=_context.sent;_context.next=5;return axios.get(\"https://moj-api.herokuapp.com/credits\");case 5:credits=_context.sent;debits=debits.data;credits=credits.data;debitSum=0,creditSum=0;debits.forEach(function(debit){debitSum+=debit.amount;});credits.forEach(function(credit){creditSum+=credit.amount;});accountBalance=creditSum-debitSum;this.setState({debits:debits,credits:credits,accountBalance:accountBalance});case 13:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this2=this;var HomeComponent=function HomeComponent(){return/*#__PURE__*/_jsx(Home,{accountBalance:_this2.state.accountBalance.toFixed(2)});};var UserProfileComponent=function UserProfileComponent(){return/*#__PURE__*/_jsx(UserProfile,{userName:_this2.state.currentUser.userName,memberSince:_this2.state.currentUser.memberSince});};var debits=this.state.debits;var DebitsComponent=function DebitsComponent(){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Debits,{accountBalance:_this2.state.accountBalance.toFixed(2),addDebit:_this2.addDebit,debits:debits})});};var credits=this.state.credits;var CreditsComponent=function CreditsComponent(){return/*#__PURE__*/_jsx(Credits,{accountBalance:_this2.state.accountBalance.toFixed(2),addCredit:_this2.addCredit,credits:credits});};var LogInComponent=function LogInComponent(){return/*#__PURE__*/_jsx(LogIn,{user:_this2.state.currentUser,mockLogIn:_this2.mockLogIn});};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",render:HomeComponent}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/userProfile\",render:UserProfileComponent}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/login\",render:LogInComponent}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/debits\",render:DebitsComponent}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/credits\",render:CreditsComponent})]})});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/loughlinrodd/Documents/GitHub/bank-of-react/src/App.js"],"names":["React","Component","BrowserRouter","Router","Switch","Route","Home","UserProfile","Debits","Credits","LogIn","axios","App","addDebit","e","preventDefault","console","log","target","value","debits","state","current","Date","currentDate","getFullYear","getMonth","getDate","newDescInput","newAmountVal","push","newAccountBalance","accountBalance","setState","addCredit","credits","parseFloat","mockLogIn","logInInfo","newUser","currentUser","userName","memberSince","newDescription","newAmount","get","data","debitSum","creditSum","forEach","debit","amount","credit","HomeComponent","toFixed","UserProfileComponent","DebitsComponent","CreditsComponent","LogInComponent"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\nimport Home from './components/Home';\nimport UserProfile from './components/UserProfile';\nimport Debits from './components/Debits';\nimport Credits from './components/Credits';\n\nimport LogIn from './Login';\nimport axios from 'axios';\n\nclass App extends Component {\n  constructor() {\n    super();\n  \n    this.state = {\n      accountBalance: 0,\n      currentUser: {\n        userName: 'joe_shmo',\n        memberSince: '07/23/96',\n      },\n      newDescription: '',\n      newAmount: '',\n      debits: [],\n      credits: []\n    }\n  }\n\n  async componentDidMount() {\n    let debits = await axios.get(\"https://moj-api.herokuapp.com/debits\")\n    let credits = await axios.get(\"https://moj-api.herokuapp.com/credits\")\n\n    debits = debits.data\n    credits = credits.data\n    let debitSum = 0, creditSum = 0;\n    debits.forEach((debit) =>{\n      debitSum += debit.amount\n    })\n    credits.forEach((credit) => {\n      creditSum += credit.amount\n    })\n    let accountBalance = creditSum - debitSum;\n    this.setState({debits, credits, accountBalance});\n  }\n\n\naddDebit = (e) => {\n  //send to debits view via props\n  e.preventDefault();\n//log target values \n  console.log(e.target[0].value);\n  console.log(e.target[1].value);\n  let { debits } = this.state;\n  //get the credits from state\n  const current = new Date();\n  //create current date with correct formatting from the date object above \n  const currentDate = `${current.getFullYear()}-${current.getMonth()+1}-${current.getDate()}`;\n  //create variables from user inputs\n  const newDescInput =  e.target[0].value; //this.state.newDescription;\n  const newAmountVal = e.target[1].value;//this.state.newAmount;\n  //push new value to array\n  debits.push({'id': 1, 'description': newDescInput, 'amount': newAmountVal, 'date':currentDate});\n  //update account balance\n  let newAccountBalance = this.state.accountBalance - newAmountVal;\n  //update state\n  this.setState({debits: debits, accountBalance: newAccountBalance});\n\n}\n\n  addCredit = (e) => {\n    //send to credits view via props\n    e.preventDefault();\n    //log target values \n    console.log(e.target[0].value);\n    console.log(e.target[1].value);\n    //get the credits from state\n    let { credits } = this.state;\n    //create date object\n    const current = new Date();\n    //create current date with correct formatting from the date object above \n    const currentDate = `${current.getFullYear()}-${current.getMonth()+1}-${current.getDate()}`;\n    //create variables from user inputs\n    const newDescInput =  e.target[0].value; \n    const newAmountVal = e.target[1].value;\n    //push new value to array\n    credits.push({'id': 1, 'description': newDescInput, 'amount': newAmountVal, 'date':currentDate});\n    //update account balance\n    let newAccountBalance = this.state.accountBalance + parseFloat(newAmountVal,10);\n    //update state\n    this.setState({credits: credits, accountBalance: newAccountBalance});\n\n  }\n\n  mockLogIn = (logInInfo) => {\n    const newUser = {...this.state.currentUser}\n    newUser.userName = logInInfo.userName\n    this.setState({currentUser: newUser})\n  }\n\n  render() {\n\n    const HomeComponent = () => (<Home accountBalance={this.state.accountBalance.toFixed(2)}/>);\n    const UserProfileComponent = () => (\n      <UserProfile userName = {this.state.currentUser.userName} memberSince={this.state.currentUser.memberSince}/>\n    );\n\n    const { debits } = this.state;\n    const DebitsComponent = () => (\n      <div>     \n        <Debits  accountBalance={this.state.accountBalance.toFixed(2)} addDebit={this.addDebit} debits={debits}/>\n\n      </div>\n     \n    );\n\n    const { credits } = this.state;\n\n    const CreditsComponent = () => (\n     <Credits accountBalance={this.state.accountBalance.toFixed(2)} addCredit={this.addCredit} credits={credits}/>\n    );\n\n    const LogInComponent = () => (<LogIn user={this.state.currentUser} mockLogIn={this.mockLogIn}/>)\n    return (\n        <Router>\n          <div>\n            <Route exact path=\"/\" render={HomeComponent}/>\n            <Route exact path=\"/userProfile\" render={UserProfileComponent}/>\n            <Route exact path=\"/login\" render={LogInComponent}/>\n            <Route exact path=\"/debits\" render={DebitsComponent}/>\n            <Route exact path=\"/credits\" render={CreditsComponent}/>\n          </div>\n        </Router>\n    );\n  }\n\n\n}\n\n\n\n\nexport default App;"]},"metadata":{},"sourceType":"module"}